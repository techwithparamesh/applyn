# Copy this file to `.env` and fill in values.
#
# IMPORTANT
# - Never commit your real `.env`
# - Generate strong secrets (32+ random bytes) for anything ending in _SECRET/_KEY
#
# Generate a secret (Linux/macOS):
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# Generate a secret (Windows PowerShell):
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# --- Required for the API server to boot ---
APP_CUSTOMER_TOKEN_SECRET=replace_with_random_hex_64_chars
SESSION_SECRET=replace_with_random_hex_64_chars

# --- Runtime ---
NODE_ENV=development
PORT=5004

# Public base URL (used in emails/links)
APP_URL=http://localhost:5004

# Comma-separated list of allowed browser origins for CSRF checks
# e.g. Vite dev server + API server
APP_ORIGINS=http://localhost:5173,http://localhost:5004

# --- Storage ---
# Defaults to in-memory if unset.
# Set STORAGE=mysql (or a mysql:// DATABASE_URL) to persist data.
STORAGE=mem
# DATABASE_URL=mysql://user:pass@127.0.0.1:3306/applyn
DB_POOL_SIZE=10

# Optional: store express-session sessions in MySQL
# SESSION_STORE=mysql

# --- Payments (Razorpay) ---
# Only required if you use Razorpay flows.
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=
RAZORPAY_WEBHOOK_SECRET=

# --- Auth (Google OAuth) ---
# Only required if you enable Google login.
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=

# --- Encrypt OAuth refresh tokens at rest ---
# Required if you connect Google Play / store refresh tokens.
# Can be a 32-byte base64 string as `base64:<...>` or any strong passphrase.
TOKEN_ENCRYPTION_KEY=

# --- Email (SMTP) ---
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@applyn.co.in
SMTP_SECURE=false

# --- Worker / builds (optional) ---
INLINE_WORKER=false
WORKER_ID=
WORKER_POLL_MS=2000
BUILD_TIMEOUT_MS=1200000
MAX_BUILD_ATTEMPTS=3
BUILD_RETRY_BACKOFF_MS=10000
ARTIFACTS_DIR=
ARTIFACT_RETENTION_DAYS=30
ARTIFACT_MAX_PER_APP=10

# Build/publish helpers
ANDROID_BUILDER_IMAGE=applyn-android-builder:latest
ANDROID_TARGET_SDK=34
REQUIRED_TARGET_SDK=34
PUBLISH_LOCK_TIMEOUT_SEC=10
PUBLISH_LOCK_TTL_MS=120000

# --- External services (optional) ---
UNSPLASH_ACCESS_KEY=
ONESIGNAL_APP_ID=
ONESIGNAL_API_KEY=

# --- Logging ---
LOG_LEVEL=info
